<!-- IMPROVED DATA TABLE WITH SEARCH AND FILTERING -->
<section id="clients-table" class="section-padding">
    <div class="container">
        <div class="row">
            <div class="col-md-12 text-center">
                <h2>عملاؤنا المميزون</h2>
                <p class="lead">أكثر من 200 شركة ومؤسسة تثق في خدماتنا</p>
            </div>
        </div>
        
        <!-- Search and Filter Controls -->
        <div class="row" style="margin-bottom: 20px;">
            <div class="col-md-6">
                <div class="form-group">
                    <label for="cityFilter">فلترة حسب المدينة:</label>
                    <select id="cityFilter" class="form-control">
                        <option value="">جميع المدن</option>
                        <option value="الرياض">الرياض</option>
                        <option value="جدة">جدة</option>
                        <option value="مكة المكرمة">مكة المكرمة</option>
                        <option value="المدينة المنورة">المدينة المنورة</option>
                        <option value="الدمام">الدمام</option>
                    </select>
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label for="typeFilter">فلترة حسب النوع:</label>
                    <select id="typeFilter" class="form-control">
                        <option value="">جميع الأنواع</option>
                        <option value="فنادق">فنادق</option>
                        <option value="مستشفيات">مستشفيات</option>
                        <option value="مطاعم">مطاعم ومقاهي</option>
                        <option value="مقاولات">مصانع ومقاولات</option>
                    </select>
                </div>
            </div>
        </div>

        <div class="table-responsive">
            <table id="clientsTable" class="table table-striped table-bordered table-hover">
                <thead>
                    <tr>
                        <th style="text-align: right">المدينة</th>
                        <th style="text-align: right">اسم المؤسسة</th>
                        <th style="text-align: right">النوع</th>
                        <th style="text-align: right">سنة بدء التعامل</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td data-label="المدينة">المدينة المنورة</td>
                        <td data-label="اسم المؤسسة">فندق مبارك الماسى محمد إبراهيم إسماعيل</td>
                        <td data-label="النوع">فنادق</td>
                        <td data-label="سنة بدء التعامل">2018</td>
                    </tr>
                    <tr>
                        <td data-label="المدينة">مكة المكرمة</td>
                        <td data-label="اسم المؤسسة">فندق وقف محمد موسي جنايني</td>
                        <td data-label="النوع">فنادق</td>
                        <td data-label="سنة بدء التعامل">2019</td>
                    </tr>
                    <tr>
                        <td data-label="المدينة">المدينة المنورة</td>
                        <td data-label="اسم المؤسسة">فندق ديار الامل لصاحبه ياسين حمزه قادري</td>
                        <td data-label="النوع">فنادق</td>
                        <td data-label="سنة بدء التعامل">2020</td>
                    </tr>
                    <tr>
                        <td data-label="المدينة">الرياض</td>
                        <td data-label="اسم المؤسسة">شركة دار البناء للمقاولات</td>
                        <td data-label="النوع">مصانع و مقاولات</td>
                        <td data-label="سنة بدء التعامل">2017</td>
                    </tr>
                    <tr>
                        <td data-label="المدينة">جدة</td>
                        <td data-label="اسم المؤسسة">مصنع نبع الهدا للمياه الصحية</td>
                        <td data-label="النوع">مصانع و مقاولات</td>
                        <td data-label="سنة بدء التعامل">2016</td>
                    </tr>
                    <tr>
                        <td data-label="المدينة">الطائف</td>
                        <td data-label="اسم المؤسسة">مطعم القرن العظيم لتقديم الوجبات</td>
                        <td data-label="النوع">مطاعم ومقاهي وكافيهات</td>
                        <td data-label="سنة بدء التعامل">2021</td>
                    </tr>
                    <tr>
                        <td data-label="المدينة">ابها</td>
                        <td data-label="اسم المؤسسة">مجمع الدكتور علي عبدالهادي دعجم الطبي</td>
                        <td data-label="النوع">مجمعات و مراكز الصحة و مستشفيات</td>
                        <td data-label="سنة بدء التعامل">2019</td>
                    </tr>
                </tbody>
            </table>
        </div>
        
        <!-- Statistics -->
        <div class="row" style="margin-top: 30px;">
            <div class="col-md-3 text-center">
                <div class="stat-box">
                    <h3 class="counter" data-count="200">0</h3>
                    <p>شركة شريكة</p>
                </div>
            </div>
            <div class="col-md-3 text-center">
                <div class="stat-box">
                    <h3 class="counter" data-count="45">0</h3>
                    <p>عام من الخبرة</p>
                </div>
            </div>
            <div class="col-md-3 text-center">
                <div class="stat-box">
                    <h3 class="counter" data-count="15000">0</h3>
                    <p>عامل تم توظيفه</p>
                </div>
            </div>
            <div class="col-md-3 text-center">
                <div class="stat-box">
                    <h3 class="counter" data-count="98">0</h3>
                    <p>% نسبة رضا العملاء</p>
                </div>
            </div>
        </div>
    </div>
</section>

<script>
// Enhanced table functionality
$(document).ready(function() {
    // Initialize DataTable with Arabic language
    $('#clientsTable').DataTable({
        "language": {
            "url": "//cdn.datatables.net/plug-ins/1.10.25/i18n/Arabic.json"
        },
        "pageLength": 10,
        "responsive": true,
        "columnDefs": [
            { "className": "text-right", "targets": "_all" }
        ]
    });
    
    // Custom filters
    $('#cityFilter, #typeFilter').on('change', function() {
        var cityFilter = $('#cityFilter').val();
        var typeFilter = $('#typeFilter').val();
        
        var table = $('#clientsTable').DataTable();
        
        // Apply filters
        table.columns(0).search(cityFilter);
        table.columns(2).search(typeFilter);
        table.draw();
    });
    
    // Animated counters
    $('.counter').each(function() {
        var $this = $(this);
        var countTo = $this.attr('data-count');
        
        $({ countNum: 0 }).animate({
            countNum: countTo
        }, {
            duration: 2000,
            easing: 'swing',
            step: function() {
                $this.text(Math.floor(this.countNum));
            },
            complete: function() {
                $this.text(this.countNum);
            }
        });
    });
});
</script>
